LATAM DATA CHALLENGE - ARCHITECTURE DIAGRAM

    ┌─────────────┐         ┌─────────────────┐         ┌────────────────────────────────────────┐
    │  Developer  │  push   │  GitHub Repo    │ trigger │         GitHub Actions CI/CD           │
    │             │────────▶│                 │────────▶│                                        │
    └─────────────┘         └─────────────────┘         │  ┌─────────────┐  ┌─────────────────┐  │
                                                        │  │ Terraform   │  │ Build & Deploy  │  │
                                                        │  │ Job         │  │ Job             │  │
                                                        │  └─────────────┘  └─────────────────┘  │
                                                        └────────────────────────────────────────┘
                                                                        │
                                                                        ▼
    ╔══════════════════════════════════════════════════════════════════════════════════════════════╗
    ║                              GOOGLE CLOUD PLATFORM                                           ║
    ╠══════════════════════════════════════════════════════════════════════════════════════════════╣
    ║                                                                                              ║
    ║  ┌─────────────────────┐    ┌─────────────────────┐    ┌─────────────────────────────────┐   ║
    ║  │   INFRASTRUCTURE    │    │      STORAGE        │    │         COMPUTE                 │   ║
    ║  │                     │    │                     │    │                                 │   ║
    ║  │ • Service Accounts  │    │ • Terraform State   │    │ • Cloud Run Job                 │   ║
    ║  │ • IAM Roles         │    │ • Data Bucket       │    │   - 2 CPU, 4Gi RAM              │   ║
    ║  │ • Networks          │    │ • Artifact Registry │    │   - 1 hour timeout              │   ║
    ║  └─────────────────────┘    └─────────────────────┘    │   - Auto-scaling                │   ║
    ║                                                        └─────────────────────────────────┘   ║
    ║                                                                        │                     ║
    ║                                                                        ▼                     ║
    ║  ┌──────────────────────────────────────────────────────────────────────────────────────┐    ║
    ║  │                           DATA PROCESSING PIPELINE                                   │    ║
    ║  │                                                                                      │    ║
    ║  │  JSON Lines Input (~398MB)                                                           │    ║
    ║  │            │                                                                         │    ║
    ║  │            ▼                                                                         │    ║
    ║  │  ┌─────────────────┐              ┌─────────────────┐                                │    ║
    ║  │  │ TIME OPTIMIZATION│              │MEMORY OPTIMIZATION│                             │    ║
    ║  │  │                 │              │                   │                              │    ║
    ║  │  │ • Pandas        │              │ • Line-by-line    │                              │    ║
    ║  │  │ • DataFrames    │              │ • Counter         │                              │    ║
    ║  │  │ • Vectorized    │              │ • Streaming       │                              │    ║
    ║  │  └─────────────────┘              └─────────────────┘                                │    ║
    ║  │            │                                 │                                       │    ║
    ║  │            └─────────────┬───────────────────┘                                       │    ║
    ║  │                          ▼                                                           │    ║
    ║  │  ┌─────────┐    ┌─────────┐    ┌─────────┐                                           │    ║
    ║  │  │   Q1    │    │   Q2    │    │   Q3    │                                           │    ║
    ║  │  │ Dates & │    │  Top    │    │  Top    │                                           │    ║
    ║  │  │ Users   │    │ Emojis  │    │Mentions │                                           │    ║
    ║  │  └─────────┘    └─────────┘    └─────────┘                                           │    ║
    ║  └──────────────────────────────────────────────────────────────────────────────────────┘    ║
    ║                                    │                                                         ║
    ║                                    ▼                                                         ║
    ║  ┌──────────────────────────────────────────────────────────────────────────────────────┐    ║
    ║  │                                 BIGQUERY                                             │    ║
    ║  │                                                                                      │    ║
    ║  │  Dataset: challenge_data                                                             │    ║
    ║  │                                                                                      │    ║
    ║  │  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐                                   │    ║
    ║  │  │ q1_results  │  │ q2_results  │  │ q3_results  │                                   │    ║
    ║  │  │             │  │             │  │             │                                   │    ║
    ║  │  │ • date      │  │ • emoji     │  │ • username  │                                   │    ║
    ║  │  │ • top_user  │  │ • count     │  │ • mentions  │                                   │    ║
    ║  │  │ • method    │  │ • method    │  │ • method    │                                   │    ║
    ║  │  │ • timestamp │  │ • timestamp │  │ • timestamp │                                   │    ║
    ║  │  └─────────────┘  └─────────────┘  └─────────────┘                                   │    ║
    ║  └──────────────────────────────────────────────────────────────────────────────────────┘    ║
    ║                                                                                              ║
    ╚══════════════════════════════════════════════════════════════════════════════════════════════╝
                                           ▲
                                           │
    ┌──────────────────────────────────────────────────────────────────────────────────────────────┐
    │                                 USER INTERFACE                                               │
    │                                                                                              │
    │  ┌─────────────────────┐                    ┌─────────────────────────────────────────────┐  │
    │  │    LOCAL CLI        │                    │             CLOUD SHELL                     │  │
    │  │                     │                    │                                             │  │
    │  │ poetry run python   │                    │ gcloud run jobs execute                     │  │
    │  │ src/main.py         │                    │ latam-data-challenge-job                    │  │
    │  │ --question q1       │                    │ --args="src/main.py,--question,q2,..."      │  │
    │  │ --method time       │                    │ --project=latam-data-challenge              │  │
    │  │ --save_bq           │                    │ --region=us-east1 --wait                    │  │
    │  └─────────────────────┘                    └─────────────────────────────────────────────┘  │
    └──────────────────────────────────────────────────────────────────────────────────────────────┘
